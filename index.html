<!DOCTYPE html>
<!-- saved from url=(0086)http://xsgl.gdut.edu.cn/index.php/mobiles/stu/leave-list?is_from_work=true&hacked=true -->
<html lang="zh_CN">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
        content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui,viewport-fit=cover">
    <meta name="apple-mobile/src-web-app-capable" content="yes">
    <meta name="apple-mobile/src-web-app-status-bar-style" content="black">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>输入信息</title>
    <script src="./statics/jweixin-1.2.0.js"></script>
    <style type="text/css" abt="234"></style>
    <link href="./statics/11845stu.aa8f741d.css" rel="preload" as="style">
    <link href="./statics/chunk-vendors.583191b8.css" rel="preload" as="style">
    <link href="./statics/11845stu.e1e77ec6.js" rel="preload" as="script">
    <link href="./statics/chunk-vendors.ecb9d086.js" rel="preload" as="script">
    <link href="./statics/chunk-vendors.583191b8.css" rel="stylesheet">
    <link href="./statics/11845stu.aa8f741d.css" rel="stylesheet">
    <script src="./statics/cookie.js"></script>
</head>

<body>
    <script>
        // Date.prototype.format被去出了，因此要自己再写一个
        Date.prototype.format = function (fmt) {
            var o = {
                "y+": this.getFullYear(), //年
                "M+": this.getMonth() + 1, //月份
                "d+": this.getDate(), //日
                "h+": this.getHours(), //小时
                "m+": this.getMinutes(), //分
                "s+": this.getSeconds() //秒
            };
            if (/(y+)/.test(fmt))
                fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
            for (var k in o)
                if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
            return fmt;
        }

        // 需要让网页一开始就执行Date.format()，否则会错误
        setTimeout(
            function () {
                var prevDate = new Date();
                var nextDate = new Date();
                var applyDate = new Date();

                applyDate.setHours(new Date().getHours() - 3);
                prevDate.setHours(new Date().getHours() - 1);
                nextDate.setHours(new Date().getHours() + 1);

                applyDate.setMinutes(10);
                prevDate.setMinutes(30);
                nextDate.setMinutes(30);

                applyDate.setSeconds(0);
                prevDate.setSeconds(0);
                nextDate.setSeconds(0);

                var applyDateTxt = applyDate.format('yyyy-MM-dd hh:mm');
                var prevDateTxt = prevDate.format('yyyy-MM-dd hh:mm');
                var nextDateTxt = nextDate.format('yyyy-MM-dd hh:mm');
                var prevDateTxt_s = prevDate.format('yyyy-MM-dd hh:mm:ss');
                var nextDateTxt_s = nextDate.format('yyyy-MM-dd hh:mm:ss');

                console.log(applyDateTxt);
                console.log(prevDateTxt);
                console.log(nextDateTxt);
                console.log(prevDateTxt_s);
                console.log(nextDateTxt_s);

                localStorage.setItem("applyDateTxt", applyDateTxt);
                localStorage.setItem("prevDateTxt", prevDateTxt);
                localStorage.setItem("nextDateTxt", nextDateTxt);
                localStorage.setItem("prevDateTxt_s", prevDateTxt_s);
                localStorage.setItem("nextDateTxt_s", nextDateTxt_s);
            }, 0
        );
    </script>


    <form id="inputform" style="
        position  : absolute;
        left      : 50%;
        top       : 50%;
        transform : translate(-50%, -50%);
        display   : none;
    ">
        请输入你的名字： <input value="" id="input_name" type="text" name="fname" /> <br>
        请输入你的学号： <input value="3119114514" id="input_id" type="text" name="lname" /> <br>
        请输入你的学院： <input value="经济与贸易学院" id="input_school" type="text" name="lname" /> <br>
        请输入你的专业： <input value="金融工程" id="input_major" type="text" name="lname" /> <br>
        请输入你的年级： <input value="19" id="input_grade" type="text" name="lname" /> <br>
        请输入你的班级： <input value="1" id="input_class" type="text" name="lname" /> <br>
        <input id="input_btn" type="button" value="确定" />
    </form>

    <script>
        var stuName   = getCookie("stuName"  );
        var stuID     = getCookie("stuID"    );
        var stuSchool = getCookie("stuSchool");
        var stuMajor  = getCookie("stuMajor" );
        var stuGrade  = getCookie("stuGrade" );
        var stuClass  = getCookie("stuClass" );

        if (stuName   == "" || stuID    == "" ||
            stuSchool == "" || stuMajor == "" ||
            stuGrade  == "" || stuClass == ""
        ) {
            document.getElementById("inputform").style.display = "inline";
        }
        else {
            alert("go to ./mainpage.html");
            document.open("./mainpage.html");
        }
    </script>


    <script type="text/javascript">

        function link_start() {
            // 获取输入框信息
            var stuName   = document.getElementById('input_name').value;
            var stuID     = document.getElementById('input_id').value;
            var stuSchool = document.getElementById('input_school').value;
            var stuMajor  = document.getElementById('input_major').value;
            var stuGrade  = document.getElementById('input_grade').value;
            var stuClass  = document.getElementById('input_class').value;


            if (stuName != null && stuName != "")
                setCookie("stuName", stuName);
            if (stuID != null && stuID != "")
                setCookie("stuID", stuID);
            if (stuSchool != null && stuSchool != "")
                setCookie("stuSchool", stuSchool);
            if (stuID != null && stuID != "")
                setCookie("stuMajor", stuMajor);
            if (stuName != null && stuName != "")
                setCookie("stuGrade", stuGrade);
            if (stuID != null && stuID != "")
                setCookie("stuClass", stuClass);

            /*localStorage.setItem("stuname", stuName);
            localStorage.setItem("stuid", stuID);
            localStorage.setItem("stuid", stuSchool);
            localStorage.setItem("stuid", stuMajor);
            localStorage.setItem("stuid", stuGrade);
            localStorage.setItem("stuid", stuClass);*/

            // 删除输入框
            // document.getElementById("inputform").style.display="none";
            // document.getElementById("app").style.display="inline";

            window.open('./mainpage.html');
        }
        // 添加事件
        document.getElementById("input_btn").addEventListener("click", link_start);

    </script>


    <script src="./statics/chunk-vendors.ecb9d086.js"></script>



</body>

</html>